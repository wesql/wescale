running tests for  vitess.io/vitess/go/test/endtoend/onlineddl/scheduler -timeout 20m
I0921 15:05:39.128423   63890 cluster_process.go:1088] Attempting to reserve port: 17201
I0921 15:05:39.128850   63890 cluster_process.go:1096] Port 17201 is available, reserving..
I0921 15:05:39.128925   63890 cluster_process.go:757] Created cluster on /tmp/vt_2488171681/vtroot_17201. ReusingVTDATAROOT=false
I0921 15:05:40.311857   63890 cluster_process.go:1088] Attempting to reserve port: 17202
I0921 15:05:40.311940   63890 cluster_process.go:1096] Port 17202 is available, reserving..
I0921 15:05:40.311951   63890 cluster_process.go:1088] Attempting to reserve port: 17203
I0921 15:05:40.311972   63890 cluster_process.go:1096] Port 17203 is available, reserving..
I0921 15:05:40.311983   63890 cluster_process.go:1088] Attempting to reserve port: 17204
I0921 15:05:40.311999   63890 cluster_process.go:1096] Port 17204 is available, reserving..
I0921 15:05:40.312029   63890 cluster_process.go:220] Starting topo server etcd2 on port: 17202
I0921 15:05:40.312203   63890 topo_process.go:96] Starting etcd with command: etcd --name global --data-dir /tmp/vt_2488171681/vtroot_17201/topo_17202 --listen-client-urls http://localhost:17202 --advertise-client-urls http://localhost:17202 --initial-advertise-peer-urls http://localhost:17204 --listen-peer-urls http://localhost:17204 --initial-cluster global=http://localhost:17204 --enable-v2=true
I0921 15:05:41.350283   63890 cluster_process.go:227] Creating global and cell topo dirs
I0921 15:05:41.396536   63890 vtctl_process.go:58] Adding CellInfo for cell zone1 with command: vtctl --topo_implementation etcd2 --topo_global_server_address localhost:17202 --topo_global_root /vitess/global AddCellInfo -- --root /zone1 --server_address localhost:17202 zone1
I0921 15:05:41.434302   63890 cluster_process.go:1088] Attempting to reserve port: 17205
I0921 15:05:41.434380   63890 cluster_process.go:1096] Port 17205 is available, reserving..
I0921 15:05:41.434390   63890 cluster_process.go:1088] Attempting to reserve port: 17206
I0921 15:05:41.434406   63890 cluster_process.go:1096] Port 17206 is available, reserving..
I0921 15:05:41.455039   63890 cluster_process.go:250] Starting vtctld server on port: 17205
I0921 15:05:41.455226   63890 vtctld_process.go:78] Starting vtctld with command: vtctld --topo_implementation etcd2 --topo_global_server_address localhost:17202 --topo_global_root /vitess/global --cell zone1 --service_map grpc-vtctl,grpc-vtctld --backup_storage_implementation file --file_backup_storage_root /tmp/vt_2488171681/vtroot_17201/backups --log_dir /tmp/vt_2488171681/vtroot_17201/tmp_17203 --port 17205 --grpc_port 17206 --schema_change_dir /tmp/schema_change_dir_8459 --schema_change_controller local --schema_change_check_interval 1
I0921 15:05:42.426810   63890 cluster_process.go:335] Starting keyspace: mysql
I0921 15:05:42.426869   63890 vtctl_process.go:85] Executing vtctlclient with arguments vtctl --log_dir /tmp/vt_2488171681/vtroot_17201/tmp_17203 --topo_implementation etcd2 --topo_global_server_address localhost:17202 --topo_global_root /vitess/global CreateKeyspace mysql
I0921 15:05:42.467762   63890 cluster_process.go:344] Starting shard: 0
I0921 15:05:42.467785   63890 cluster_process.go:1088] Attempting to reserve port: 17207
I0921 15:05:42.467822   63890 cluster_process.go:1096] Port 17207 is available, reserving..
I0921 15:05:42.467829   63890 cluster_process.go:1088] Attempting to reserve port: 17208
I0921 15:05:42.467842   63890 cluster_process.go:1096] Port 17208 is available, reserving..
I0921 15:05:42.467848   63890 cluster_process.go:1088] Attempting to reserve port: 17209
I0921 15:05:42.467861   63890 cluster_process.go:1096] Port 17209 is available, reserving..
I0921 15:05:42.467869   63890 cluster_process.go:363] Starting mysqlctl for table uid 8460, mysql port 17209
I0921 15:05:42.467904   63890 mysqlctl_process.go:154] Starting mysqlctl with command: [mysqlctl --log_dir /tmp/vt_2488171681/vtroot_17201/tmp_17203 --tablet_uid 8460 --mysql_port 17209 init -- --init_db_sql_file /Users/geray/Public/codeRep/wesql-scale/config/init_db.sql start]
I0921 15:05:46.117264   63890 cluster_process.go:410] Starting vttablet for tablet uid 8460, grpc port 17208
I0921 15:05:46.117441   63890 vttablet_process.go:135] Running vttablet with command: vttablet --topo_implementation etcd2 --topo_global_server_address localhost:17202 --topo_global_root /vitess/global --log_queries_to_file /tmp/vt_2488171681/vtroot_17201/tmp_17203/vt_0000008460_querylog.txt --tablet-path zone1-0000008460 --port 17207 --grpc_port 17208 --log_dir /tmp/vt_2488171681/vtroot_17201/tmp_17203 --tablet_hostname localhost --init_tablet_type replica --health_check_interval 5s --enable_replication_reporter --backup_storage_implementation file --file_backup_storage_root /tmp/vt_2488171681/vtroot_17201/backups --service_map grpc-queryservice,grpc-tabletmanager,grpc-updatestream,grpc-throttler --vtctld_addr http://localhost:17205 --vtctld_addr http://localhost:17205 --vreplication_tablet_type replica --db_charset utf8mb4 --restore_from_backup --enable-lag-throttler --throttle_threshold 1s --heartbeat_enable --heartbeat_interval 250ms --heartbeat_on_demand_duration 5s --watch_replication_stream
I0921 15:05:46.428325   63890 vtctlclient_process.go:214] Executing vtctlclient with command: vtctlclient --server localhost:17206 PlannedReparentShard -- --keyspace_shard mysql/0 --wait_replicas_timeout 31s --new_primary zone1-8460 (attempt 1 of 10)
I0921 15:05:46.893637   63890 cluster_process.go:453] Done creating keyspace: mysql 
I0921 15:05:46.914779   63890 cluster_process.go:1088] Attempting to reserve port: 17210
I0921 15:05:46.914843   63890 cluster_process.go:1096] Port 17210 is available, reserving..
I0921 15:05:46.914852   63890 cluster_process.go:1088] Attempting to reserve port: 17211
I0921 15:05:46.914868   63890 cluster_process.go:1096] Port 17211 is available, reserving..
E0921 15:05:46.915045   63890 vtorc_process.go:92] configuration - {
	"Debug": true,
	"ListenAddress": ":17210",
	"MySQLTopologyUser": "orc_client_user",
	"MySQLTopologyPassword": "orc_client_user_password",
	"MySQLReplicaUser": "vt_repl",
	"MySQLReplicaPassword": "",
	"RecoveryPeriodBlockSeconds": 1
}
I0921 15:05:46.915789   63890 vtorc_process.go:132] Running vtorc with command: vtorc --topo_implementation etcd2 --topo_global_server_address localhost:17202 --topo_global_root /vitess/global --config /tmp/vt_2488171681/vtroot_17201/tmp_17203/orc-config-1695279946914878000.json --port 17211 --recovery-period-block-duration 10h --instance-poll-time 1s --topo-information-refresh-duration 3s --orc_web_dir /Users/geray/Public/codeRep/wesql-scale/web/vtorc --alsologtostderr
I0921 15:05:46.918007   63890 cluster_process.go:1088] Attempting to reserve port: 17212
I0921 15:05:46.918062   63890 cluster_process.go:1096] Port 17212 is available, reserving..
I0921 15:05:46.918070   63890 cluster_process.go:1088] Attempting to reserve port: 17213
I0921 15:05:46.918085   63890 cluster_process.go:1096] Port 17213 is available, reserving..
I0921 15:05:46.918089   63890 cluster_process.go:1088] Attempting to reserve port: 17214
I0921 15:05:46.918103   63890 cluster_process.go:1096] Port 17214 is available, reserving..
I0921 15:05:46.938675   63890 mysqld.go:617] execCmd: /opt/homebrew/bin/mysqld /opt/homebrew/bin/mysqld [--version]
I0921 15:05:46.952959   63890 mysqld.go:631] execCmd: /opt/homebrew/bin/mysqld output: /opt/homebrew/bin/mysqld  Ver 8.0.33 for macos13.3 on arm64 (Homebrew)
I0921 15:05:46.953433   63890 vtgate_process.go:131] Running vtgate with command: vtgate --topo_implementation etcd2 --topo_global_server_address localhost:17202 --topo_global_root /vitess/global --log_dir /tmp/vt_2488171681/vtroot_17201/tmp_17203 --log_queries_to_file /tmp/vt_2488171681/vtroot_17201/tmp_17203/vtgate_querylog.txt --port 17212 --grpc_port 17213 --mysql_server_port 17214 --mysql_server_socket_path /tmp/vt_2488171681/vtroot_17201/tmp_17203/mysql.sock --cell zone1 --cells_to_watch zone1 --tablet_types_to_wait PRIMARY,REPLICA --service_map grpc-tabletmanager,grpc-throttler,grpc-queryservice,grpc-updatestream,grpc-vtctl,grpc-vtgateservice --mysql_auth_server_impl none --mysql_server_version 8.0.33-vitess --planner-version Gen4CompareV3
=== RUN   TestParseTableName
=== RUN   TestParseTableName/ALTER_TABLE_t1_test_ENGINE=InnoDB
=== RUN   TestParseTableName/ALTER_TABLE_t1_test_ENGINE=InnoDB;
=== RUN   TestParseTableName/DROP_TABLE_IF_EXISTS_t1_test
=== RUN   TestParseTableName/____ALTER_TABLE_stress_test_ENGINE=InnoDB;____ALTER_TABLE_stress_test_ENGINE=InnoDB;____ALTER_TABLE_stress_test_ENGINE=InnoDB;___
--- PASS: TestParseTableName (0.00s)
    --- PASS: TestParseTableName/ALTER_TABLE_t1_test_ENGINE=InnoDB (0.00s)
    --- PASS: TestParseTableName/ALTER_TABLE_t1_test_ENGINE=InnoDB; (0.00s)
    --- PASS: TestParseTableName/DROP_TABLE_IF_EXISTS_t1_test (0.00s)
    --- PASS: TestParseTableName/____ALTER_TABLE_stress_test_ENGINE=InnoDB;____ALTER_TABLE_stress_test_ENGINE=InnoDB;____ALTER_TABLE_stress_test_ENGINE=InnoDB;___ (0.00s)
=== RUN   TestSchemaChange
=== RUN   TestSchemaChange/scheduler
=== RUN   TestSchemaChange/scheduler/CREATE_TABLEs_t1,_t1
# Generated UUID (for debug purposes):
<5ccd6170_584d_11ee_8f26_5ea977d56bb7>
# Migration status (for debug purposes): <complete>
# output for `show vitess_migrations like '5ccd6170_584d_11ee_8f26_5ea977d56bb7'`:
+----+--------------------------------------+----------+-------+--------------+-------------+--------------------------------+----------+---------+---------------------+---------------------+-----------------+---------------------+---------------------+----------------------------+-------------------+------------------+----------+-----------------------------------------------------------+---------+------------------+----------------+----------+---------------------------------------------+------------+---------+-------------+-------------+------------+-------------------+---------------------+----------+--------------------------+---------------------+--------------------------+---------------------------------+-----------------------+------------------+------------------+---------------+---------+-------------------+----------------+---------------------------+---------------------+--------------+--------------------------+---------------------+---------------------+-----------------+-------+------------------+------------------------+---------------------+
| id |            migration_uuid            | keyspace | shard | mysql_schema | mysql_table |      migration_statement       | strategy | options |   added_timestamp   | requested_timestamp | ready_timestamp |  started_timestamp  | liveness_timestamp  |    completed_timestamp     | cleanup_timestamp | migration_status | log_path |                         artifacts                         | retries |      tablet      | tablet_failure | progress |              migration_context              | ddl_action | message | eta_seconds | rows_copied | table_rows | added_unique_keys | removed_unique_keys | log_file | retain_artifacts_seconds | postpone_completion | removed_unique_key_names | dropped_no_default_column_names | expanded_column_names | revertible_notes | allow_concurrent | reverted_uuid | is_view | ready_to_complete | stowaway_table | vitess_liveness_indicator | user_throttle_ratio | special_plan | last_throttled_timestamp | component_throttled | cancelled_timestamp | postpone_launch | stage | cutover_attempts | is_immediate_operation | reviewed_timestamp  |
+----+--------------------------------------+----------+-------+--------------+-------------+--------------------------------+----------+---------+---------------------+---------------------+-----------------+---------------------+---------------------+----------------------------+-------------------+------------------+----------+-----------------------------------------------------------+---------+------------------+----------------+----------+---------------------------------------------+------------+---------+-------------+-------------+------------+-------------------+---------------------+----------+--------------------------+---------------------+--------------------------+---------------------------------+-----------------------+------------------+------------------+---------------+---------+-------------------+----------------+---------------------------+---------------------+--------------+--------------------------+---------------------+---------------------+-----------------+-------+------------------+------------------------+---------------------+
|  1 | 5ccd6170_584d_11ee_8f26_5ea977d56bb7 | mysql    |     0 | mysql        | t1_test     | create table mysql.t1_test     | mysql    |         | 2023-09-21 15:06:18 | 2023-09-21 15:06:19 |                 | 2023-09-21 15:06:20 | 2023-09-21 15:06:20 | 2023-09-21 15:06:19.817058 |                   | complete         |          | _vt_HOLD_5d6807d4584d11ee8cea5ea977d56bb7_20230922070619, |       0 | zone1-0000008460 |              0 |      100 | vtgate:5ccd04a0-584d-11ee-8f26-5ea977d56bb7 | create     |         |           0 |           0 |          0 |                 0 |                   0 |          |                    86400 |                   0 |                          |                                 |                       |                  |                0 |               |       0 |                 1 |                |                         0 |                   0 |              |                          |                     |                     |               0 |       |                0 |                      1 | 2023-09-21 15:06:20 |
|    |                                      |          |       |              |             | ( 	id bigint(20) not null,      |          |         |                     |                     |                 |                     |                     |                            |                   |                  |          |                                                           |         |                  |                |          |                                             |            |         |             |             |            |                   |                     |          |                          |                     |                          |                                 |                       |                  |                  |               |         |                   |                |                           |                     |              |                          |                     |                     |                 |       |                  |                        |                     |
|    |                                      |          |       |              |             | 	hint_col varchar(64) not       |          |         |                     |                     |                 |                     |                     |                            |                   |                  |          |                                                           |         |                  |                |          |                                             |            |         |             |             |            |                   |                     |          |                          |                     |                          |                                 |                       |                  |                  |               |         |                   |                |                           |                     |              |                          |                     |                     |                 |       |                  |                        |                     |
|    |                                      |          |       |              |             | null default 'just-created',   |          |         |                     |                     |                 |                     |                     |                            |                   |                  |          |                                                           |         |                  |                |          |                                             |            |         |             |             |            |                   |                     |          |                          |                     |                          |                                 |                       |                  |                  |               |         |                   |                |                           |                     |              |                          |                     |                     |                 |       |                  |                        |                     |
|    |                                      |          |       |              |             | 	PRIMARY KEY (id) ) ENGINE      |          |         |                     |                     |                 |                     |                     |                            |                   |                  |          |                                                           |         |                  |                |          |                                             |            |         |             |             |            |                   |                     |          |                          |                     |                          |                                 |                       |                  |                  |               |         |                   |                |                           |                     |              |                          |                     |                     |                 |       |                  |                        |                     |
|    |                                      |          |       |              |             | InnoDB                         |          |         |                     |                     |                 |                     |                     |                            |                   |                  |          |                                                           |         |                  |                |          |                                             |            |         |             |             |            |                   |                     |          |                          |                     |                          |                                 |                       |                  |                  |               |         |                   |                |                           |                     |              |                          |                     |                     |                 |       |                  |                        |                     |
+----+--------------------------------------+----------+-------+--------------+-------------+--------------------------------+----------+---------+---------------------+---------------------+-----------------+---------------------+---------------------+----------------------------+-------------------+------------------+----------+-----------------------------------------------------------+---------+------------------+----------------+----------+---------------------------------------------+------------+---------+-------------+-------------+------------+-------------------+---------------------+----------+--------------------------+---------------------+--------------------------+---------------------------------+-----------------------+------------------+------------------+---------------+---------+-------------------+----------------+---------------------------+---------------------+--------------+--------------------------+---------------------+---------------------+-----------------+-------+------------------+------------------------+---------------------+
# Generated UUID (for debug purposes):
<5e0368b4_584d_11ee_8f26_5ea977d56bb7>
# Migration status (for debug purposes): <complete>
# output for `show vitess_migrations like '5e0368b4_584d_11ee_8f26_5ea977d56bb7'`:
+----+--------------------------------------+----------+-------+--------------+-------------+--------------------------------+----------+---------+---------------------+---------------------+-----------------+---------------------+---------------------+----------------------------+-------------------+------------------+----------+-----------------------------------------------------------+---------+------------------+----------------+----------+---------------------------------------------+------------+---------+-------------+-------------+------------+-------------------+---------------------+----------+--------------------------+---------------------+--------------------------+---------------------------------+-----------------------+------------------+------------------+---------------+---------+-------------------+----------------+---------------------------+---------------------+--------------+--------------------------+---------------------+---------------------+-----------------+-------+------------------+------------------------+---------------------+
| id |            migration_uuid            | keyspace | shard | mysql_schema | mysql_table |      migration_statement       | strategy | options |   added_timestamp   | requested_timestamp | ready_timestamp |  started_timestamp  | liveness_timestamp  |    completed_timestamp     | cleanup_timestamp | migration_status | log_path |                         artifacts                         | retries |      tablet      | tablet_failure | progress |              migration_context              | ddl_action | message | eta_seconds | rows_copied | table_rows | added_unique_keys | removed_unique_keys | log_file | retain_artifacts_seconds | postpone_completion | removed_unique_key_names | dropped_no_default_column_names | expanded_column_names | revertible_notes | allow_concurrent | reverted_uuid | is_view | ready_to_complete | stowaway_table | vitess_liveness_indicator | user_throttle_ratio | special_plan | last_throttled_timestamp | component_throttled | cancelled_timestamp | postpone_launch | stage | cutover_attempts | is_immediate_operation | reviewed_timestamp  |
+----+--------------------------------------+----------+-------+--------------+-------------+--------------------------------+----------+---------+---------------------+---------------------+-----------------+---------------------+---------------------+----------------------------+-------------------+------------------+----------+-----------------------------------------------------------+---------+------------------+----------------+----------+---------------------------------------------+------------+---------+-------------+-------------+------------+-------------------+---------------------+----------+--------------------------+---------------------+--------------------------+---------------------------------+-----------------------+------------------+------------------+---------------+---------+-------------------+----------------+---------------------------+---------------------+--------------+--------------------------+---------------------+---------------------+-----------------+-------+------------------+------------------------+---------------------+
|  2 | 5e0368b4_584d_11ee_8f26_5ea977d56bb7 | mysql    |     0 | mysql        | t2_test     | create table mysql.t2_test     | mysql    |         | 2023-09-21 15:06:20 | 2023-09-21 15:06:21 |                 | 2023-09-21 15:06:21 | 2023-09-21 15:06:21 | 2023-09-21 15:06:20.828593 |                   | complete         |          | _vt_HOLD_5e05df4a584d11ee8cea5ea977d56bb7_20230922070620, |       0 | zone1-0000008460 |              0 |      100 | vtgate:5e034ee2-584d-11ee-8f26-5ea977d56bb7 | create     |         |           0 |           0 |          0 |                 0 |                   0 |          |                    86400 |                   0 |                          |                                 |                       |                  |                0 |               |       0 |                 1 |                |                         0 |                   0 |              |                          |                     |                     |               0 |       |                0 |                      1 | 2023-09-21 15:06:21 |
|    |                                      |          |       |              |             | ( 	id bigint(20) not null,      |          |         |                     |                     |                 |                     |                     |                            |                   |                  |          |                                                           |         |                  |                |          |                                             |            |         |             |             |            |                   |                     |          |                          |                     |                          |                                 |                       |                  |                  |               |         |                   |                |                           |                     |              |                          |                     |                     |                 |       |                  |                        |                     |
|    |                                      |          |       |              |             | 	hint_col varchar(64) not       |          |         |                     |                     |                 |                     |                     |                            |                   |                  |          |                                                           |         |                  |                |          |                                             |            |         |             |             |            |                   |                     |          |                          |                     |                          |                                 |                       |                  |                  |               |         |                   |                |                           |                     |              |                          |                     |                     |                 |       |                  |                        |                     |
|    |                                      |          |       |              |             | null default 'just-created',   |          |         |                     |                     |                 |                     |                     |                            |                   |                  |          |                                                           |         |                  |                |          |                                             |            |         |             |             |            |                   |                     |          |                          |                     |                          |                                 |                       |                  |                  |               |         |                   |                |                           |                     |              |                          |                     |                     |                 |       |                  |                        |                     |
|    |                                      |          |       |              |             | 	PRIMARY KEY (id) ) ENGINE      |          |         |                     |                     |                 |                     |                     |                            |                   |                  |          |                                                           |         |                  |                |          |                                             |            |         |             |             |            |                   |                     |          |                          |                     |                          |                                 |                       |                  |                  |               |         |                   |                |                           |                     |              |                          |                     |                     |                 |       |                  |                        |                     |
|    |                                      |          |       |              |             | InnoDB                         |          |         |                     |                     |                 |                     |                     |                            |                   |                  |          |                                                           |         |                  |                |          |                                             |            |         |             |             |            |                   |                     |          |                          |                     |                          |                                 |                       |                  |                  |               |         |                   |                |                           |                     |              |                          |                     |                     |                 |       |                  |                        |                     |
+----+--------------------------------------+----------+-------+--------------+-------------+--------------------------------+----------+---------+---------------------+---------------------+-----------------+---------------------+---------------------+----------------------------+-------------------+------------------+----------+-----------------------------------------------------------+---------+------------------+----------------+----------+---------------------------------------------+------------+---------+-------------+-------------+------------+-------------------+---------------------+----------+--------------------------+---------------------+--------------------------+---------------------------------+-----------------------+------------------+------------------+---------------+---------+-------------------+----------------+---------------------------+---------------------+--------------+--------------------------+---------------------+---------------------+-----------------+-------+------------------+------------------------+---------------------+
=== RUN   TestSchemaChange/scheduler/CREATE_TABLEs_t1,_t1/Compare_t1,_t2_sequential_times
=== RUN   TestSchemaChange/scheduler/Postpone_launch_CREATE
# Generated UUID (for debug purposes):
<5ea01132_584d_11ee_8f26_5ea977d56bb7>
# output for `show vitess_migrations like '5ea01132_584d_11ee_8f26_5ea977d56bb7'`:
+----+--------------------------------------+----------+-------+--------------+-------------+--------------------------------+----------+-------------------+---------------------+---------------------+-----------------+-------------------+--------------------+---------------------+-------------------+------------------+----------+-----------+---------+------------------+----------------+----------+---------------------------------------------+------------+---------+-------------+-------------+------------+-------------------+---------------------+----------+--------------------------+---------------------+--------------------------+---------------------------------+-----------------------+------------------+------------------+---------------+---------+-------------------+----------------+---------------------------+---------------------+--------------+--------------------------+---------------------+---------------------+-----------------+-------+------------------+------------------------+---------------------+
| id |            migration_uuid            | keyspace | shard | mysql_schema | mysql_table |      migration_statement       | strategy |      options      |   added_timestamp   | requested_timestamp | ready_timestamp | started_timestamp | liveness_timestamp | completed_timestamp | cleanup_timestamp | migration_status | log_path | artifacts | retries |      tablet      | tablet_failure | progress |              migration_context              | ddl_action | message | eta_seconds | rows_copied | table_rows | added_unique_keys | removed_unique_keys | log_file | retain_artifacts_seconds | postpone_completion | removed_unique_key_names | dropped_no_default_column_names | expanded_column_names | revertible_notes | allow_concurrent | reverted_uuid | is_view | ready_to_complete | stowaway_table | vitess_liveness_indicator | user_throttle_ratio | special_plan | last_throttled_timestamp | component_throttled | cancelled_timestamp | postpone_launch | stage | cutover_attempts | is_immediate_operation | reviewed_timestamp  |
+----+--------------------------------------+----------+-------+--------------+-------------+--------------------------------+----------+-------------------+---------------------+---------------------+-----------------+-------------------+--------------------+---------------------+-------------------+------------------+----------+-----------+---------+------------------+----------------+----------+---------------------------------------------+------------+---------+-------------+-------------+------------+-------------------+---------------------+----------+--------------------------+---------------------+--------------------------+---------------------------------+-----------------------+------------------+------------------+---------------+---------+-------------------+----------------+---------------------------+---------------------+--------------+--------------------------+---------------------+---------------------+-----------------+-------+------------------+------------------------+---------------------+
|  3 | 5ea01132_584d_11ee_8f26_5ea977d56bb7 | mysql    |     0 | mysql        | t1_test     | create table if not            | mysql    | --postpone-launch | 2023-09-21 15:06:21 | 2023-09-21 15:06:22 |                 |                   |                    |                     |                   | queued           |          |           |       0 | zone1-0000008460 |              0 |        0 | vtgate:5ea000a2-584d-11ee-8f26-5ea977d56bb7 | create     |         |          -1 |           0 |          0 |                 0 |                   0 |          |                    86400 |                   0 |                          |                                 |                       |                  |                0 |               |       0 |                 0 |                |                         0 |                   0 |              |                          |                     |                     |               1 |       |                0 |                      1 | 2023-09-21 15:06:23 |
|    |                                      |          |       |              |             | exists mysql.t1_test ( 	id      |          |                   |                     |                     |                 |                   |                    |                     |                   |                  |          |           |         |                  |                |          |                                             |            |         |             |             |            |                   |                     |          |                          |                     |                          |                                 |                       |                  |                  |               |         |                   |                |                           |                     |              |                          |                     |                     |                 |       |                  |                        |                     |
|    |                                      |          |       |              |             | bigint(20) not null, 	hint_col  |          |                   |                     |                     |                 |                   |                    |                     |                   |                  |          |           |         |                  |                |          |                                             |            |         |             |             |            |                   |                     |          |                          |                     |                          |                                 |                       |                  |                  |               |         |                   |                |                           |                     |              |                          |                     |                     |                 |       |                  |                        |                     |
|    |                                      |          |       |              |             | varchar(64) not null default   |          |                   |                     |                     |                 |                   |                    |                     |                   |                  |          |           |         |                  |                |          |                                             |            |         |             |             |            |                   |                     |          |                          |                     |                          |                                 |                       |                  |                  |               |         |                   |                |                           |                     |              |                          |                     |                     |                 |       |                  |                        |                     |
|    |                                      |          |       |              |             | 'should_not_appear', 	PRIMARY   |          |                   |                     |                     |                 |                   |                    |                     |                   |                  |          |           |         |                  |                |          |                                             |            |         |             |             |            |                   |                     |          |                          |                     |                          |                                 |                       |                  |                  |               |         |                   |                |                           |                     |              |                          |                     |                     |                 |       |                  |                        |                     |
|    |                                      |          |       |              |             | KEY (id) ) ENGINE InnoDB       |          |                   |                     |                     |                 |                   |                    |                     |                   |                  |          |           |         |                  |                |          |                                             |            |         |             |             |            |                   |                     |          |                          |                     |                          |                                 |                       |                  |                  |               |         |                   |                |                           |                     |              |                          |                     |                     |                 |       |                  |                        |                     |
+----+--------------------------------------+----------+-------+--------------+-------------+--------------------------------+----------+-------------------+---------------------+---------------------+-----------------+-------------------+--------------------+---------------------+-------------------+------------------+----------+-----------+---------+------------------+----------------+----------+---------------------------------------------+------------+---------+-------------+-------------+------------+-------------------+---------------------+----------+--------------------------+---------------------+--------------------------+---------------------------------+-----------------------+------------------+------------------+---------------+---------+-------------------+----------------+---------------------------+---------------------+--------------+--------------------------+---------------------+---------------------+-----------------+-------+------------------+------------------------+---------------------+
=== RUN   TestSchemaChange/scheduler/Postpone_launch_CREATE/launch_all_shards
# Migration status (for debug purposes): <complete>
# output for `show vitess_migrations like '5ea01132_584d_11ee_8f26_5ea977d56bb7'`:
+----+--------------------------------------+----------+-------+--------------+-------------+--------------------------------+----------+-------------------+---------------------+---------------------+-----------------+---------------------+---------------------+----------------------------+-------------------+------------------+----------+-----------+---------+------------------+----------------+----------+---------------------------------------------+------------+---------+-------------+-------------+------------+-------------------+---------------------+----------+--------------------------+---------------------+--------------------------+---------------------------------+-----------------------+------------------+------------------+---------------+---------+-------------------+----------------+---------------------------+---------------------+--------------+--------------------------+---------------------+---------------------+-----------------+-------+------------------+------------------------+---------------------+
| id |            migration_uuid            | keyspace | shard | mysql_schema | mysql_table |      migration_statement       | strategy |      options      |   added_timestamp   | requested_timestamp | ready_timestamp |  started_timestamp  | liveness_timestamp  |    completed_timestamp     | cleanup_timestamp | migration_status | log_path | artifacts | retries |      tablet      | tablet_failure | progress |              migration_context              | ddl_action | message | eta_seconds | rows_copied | table_rows | added_unique_keys | removed_unique_keys | log_file | retain_artifacts_seconds | postpone_completion | removed_unique_key_names | dropped_no_default_column_names | expanded_column_names | revertible_notes | allow_concurrent | reverted_uuid | is_view | ready_to_complete | stowaway_table | vitess_liveness_indicator | user_throttle_ratio | special_plan | last_throttled_timestamp | component_throttled | cancelled_timestamp | postpone_launch | stage | cutover_attempts | is_immediate_operation | reviewed_timestamp  |
+----+--------------------------------------+----------+-------+--------------+-------------+--------------------------------+----------+-------------------+---------------------+---------------------+-----------------+---------------------+---------------------+----------------------------+-------------------+------------------+----------+-----------+---------+------------------+----------------+----------+---------------------------------------------+------------+---------+-------------+-------------+------------+-------------------+---------------------+----------+--------------------------+---------------------+--------------------------+---------------------------------+-----------------------+------------------+------------------+---------------+---------+-------------------+----------------+---------------------------+---------------------+--------------+--------------------------+---------------------+---------------------+-----------------+-------+------------------+------------------------+---------------------+
|  3 | 5ea01132_584d_11ee_8f26_5ea977d56bb7 | mysql    |     0 | mysql        | t1_test     | create table if not            | mysql    | --postpone-launch | 2023-09-21 15:06:21 | 2023-09-21 15:06:22 |                 | 2023-09-21 15:06:25 | 2023-09-21 15:06:25 | 2023-09-21 15:06:24.801766 |                   | complete         |          |           |       0 | zone1-0000008460 |              0 |      100 | vtgate:5ea000a2-584d-11ee-8f26-5ea977d56bb7 | create     |         |           0 |           0 |          0 |                 0 |                   0 |          |                    86400 |                   0 |                          |                                 |                       |                  |                0 |               |       0 |                 1 |                |                         0 |                   0 |              |                          |                     |                     |               0 |       |                0 |                      1 | 2023-09-21 15:06:23 |
|    |                                      |          |       |              |             | exists mysql.t1_test ( 	id      |          |                   |                     |                     |                 |                     |                     |                            |                   |                  |          |           |         |                  |                |          |                                             |            |         |             |             |            |                   |                     |          |                          |                     |                          |                                 |                       |                  |                  |               |         |                   |                |                           |                     |              |                          |                     |                     |                 |       |                  |                        |                     |
|    |                                      |          |       |              |             | bigint(20) not null, 	hint_col  |          |                   |                     |                     |                 |                     |                     |                            |                   |                  |          |           |         |                  |                |          |                                             |            |         |             |             |            |                   |                     |          |                          |                     |                          |                                 |                       |                  |                  |               |         |                   |                |                           |                     |              |                          |                     |                     |                 |       |                  |                        |                     |
|    |                                      |          |       |              |             | varchar(64) not null default   |          |                   |                     |                     |                 |                     |                     |                            |                   |                  |          |           |         |                  |                |          |                                             |            |         |             |             |            |                   |                     |          |                          |                     |                          |                                 |                       |                  |                  |               |         |                   |                |                           |                     |              |                          |                     |                     |                 |       |                  |                        |                     |
|    |                                      |          |       |              |             | 'should_not_appear', 	PRIMARY   |          |                   |                     |                     |                 |                     |                     |                            |                   |                  |          |           |         |                  |                |          |                                             |            |         |             |             |            |                   |                     |          |                          |                     |                          |                                 |                       |                  |                  |               |         |                   |                |                           |                     |              |                          |                     |                     |                 |       |                  |                        |                     |
|    |                                      |          |       |              |             | KEY (id) ) ENGINE InnoDB       |          |                   |                     |                     |                 |                     |                     |                            |                   |                  |          |           |         |                  |                |          |                                             |            |         |             |             |            |                   |                     |          |                          |                     |                          |                                 |                       |                  |                  |               |         |                   |                |                           |                     |              |                          |                     |                     |                 |       |                  |                        |                     |
+----+--------------------------------------+----------+-------+--------------+-------------+--------------------------------+----------+-------------------+---------------------+---------------------+-----------------+---------------------+---------------------+----------------------------+-------------------+------------------+----------+-----------+---------+------------------+----------------+----------+---------------------------------------------+------------+---------+-------------+-------------+------------+-------------------+---------------------+----------+--------------------------+---------------------+--------------------------+---------------------------------+-----------------------+------------------+------------------+---------------+---------+-------------------+----------------+---------------------------+---------------------+--------------+--------------------------+---------------------+---------------------+-----------------+-------+------------------+------------------------+---------------------+
=== RUN   TestSchemaChange/scheduler/Postpone_launch_ALTER
# Generated UUID (for debug purposes):
<606fd7f4_584d_11ee_8f26_5ea977d56bb7>
# output for `show vitess_migrations like '606fd7f4_584d_11ee_8f26_5ea977d56bb7'`:
+----+--------------------------------------+----------+-------+--------------+-------------+--------------------------------+----------+-------------------+---------------------+---------------------+-----------------+-------------------+--------------------+---------------------+-------------------+------------------+----------+-----------+---------+------------------+----------------+----------+---------------------------------------------+------------+---------+-------------+-------------+------------+-------------------+---------------------+----------+--------------------------+---------------------+--------------------------+---------------------------------+-----------------------+------------------+------------------+---------------+---------+-------------------+----------------+---------------------------+---------------------+--------------+--------------------------+---------------------+---------------------+-----------------+-------+------------------+------------------------+---------------------+
| id |            migration_uuid            | keyspace | shard | mysql_schema | mysql_table |      migration_statement       | strategy |      options      |   added_timestamp   | requested_timestamp | ready_timestamp | started_timestamp | liveness_timestamp | completed_timestamp | cleanup_timestamp | migration_status | log_path | artifacts | retries |      tablet      | tablet_failure | progress |              migration_context              | ddl_action | message | eta_seconds | rows_copied | table_rows | added_unique_keys | removed_unique_keys | log_file | retain_artifacts_seconds | postpone_completion | removed_unique_key_names | dropped_no_default_column_names | expanded_column_names | revertible_notes | allow_concurrent | reverted_uuid | is_view | ready_to_complete | stowaway_table | vitess_liveness_indicator | user_throttle_ratio | special_plan | last_throttled_timestamp | component_throttled | cancelled_timestamp | postpone_launch | stage | cutover_attempts | is_immediate_operation | reviewed_timestamp  |
+----+--------------------------------------+----------+-------+--------------+-------------+--------------------------------+----------+-------------------+---------------------+---------------------+-----------------+-------------------+--------------------+---------------------+-------------------+------------------+----------+-----------+---------+------------------+----------------+----------+---------------------------------------------+------------+---------+-------------+-------------+------------+-------------------+---------------------+----------+--------------------------+---------------------+--------------------------+---------------------------------+-----------------------+------------------+------------------+---------------+---------+-------------------+----------------+---------------------------+---------------------+--------------+--------------------------+---------------------+---------------------+-----------------+-------+------------------+------------------------+---------------------+
|  4 | 606fd7f4_584d_11ee_8f26_5ea977d56bb7 | mysql    |     0 | mysql        | t1_test     | alter table mysql.t1_test      | mysql    | --postpone-launch | 2023-09-21 15:06:24 | 2023-09-21 15:06:25 |                 |                   |                    |                     |                   | queued           |          |           |       0 | zone1-0000008460 |              0 |        0 | vtgate:606fc444-584d-11ee-8f26-5ea977d56bb7 | alter      |         |          -1 |           0 |          0 |                 0 |                   0 |          |                    86400 |                   0 |                          |                                 |                       |                  |                0 |               |       0 |                 0 |                |                         0 |                   0 |              |                          |                     |                     |               1 |       |                0 |                      0 | 2023-09-21 15:06:26 |
|    |                                      |          |       |              |             | ENGINE InnoDB                  |          |                   |                     |                     |                 |                   |                    |                     |                   |                  |          |           |         |                  |                |          |                                             |            |         |             |             |            |                   |                     |          |                          |                     |                          |                                 |                       |                  |                  |               |         |                   |                |                           |                     |              |                          |                     |                     |                 |       |                  |                        |                     |
+----+--------------------------------------+----------+-------+--------------+-------------+--------------------------------+----------+-------------------+---------------------+---------------------+-----------------+-------------------+--------------------+---------------------+-------------------+------------------+----------+-----------+---------+------------------+----------------+----------+---------------------------------------------+------------+---------+-------------+-------------+------------+-------------------+---------------------+----------+--------------------------+---------------------+--------------------------+---------------------------------+-----------------------+------------------+------------------+---------------+---------+-------------------+----------------+---------------------------+---------------------+--------------+--------------------------+---------------------+---------------------+-----------------+-------+------------------+------------------------+---------------------+
=== RUN   TestSchemaChange/scheduler/Postpone_launch_ALTER/launch_irrelevant_UUID
# output for `show vitess_migrations like '606fd7f4_584d_11ee_8f26_5ea977d56bb7'`:
+----+--------------------------------------+----------+-------+--------------+-------------+--------------------------------+----------+-------------------+---------------------+---------------------+-----------------+-------------------+--------------------+---------------------+-------------------+------------------+----------+-----------+---------+------------------+----------------+----------+---------------------------------------------+------------+---------+-------------+-------------+------------+-------------------+---------------------+----------+--------------------------+---------------------+--------------------------+---------------------------------+-----------------------+------------------+------------------+---------------+---------+-------------------+----------------+---------------------------+---------------------+--------------+--------------------------+---------------------+---------------------+-----------------+-------+------------------+------------------------+---------------------+
| id |            migration_uuid            | keyspace | shard | mysql_schema | mysql_table |      migration_statement       | strategy |      options      |   added_timestamp   | requested_timestamp | ready_timestamp | started_timestamp | liveness_timestamp | completed_timestamp | cleanup_timestamp | migration_status | log_path | artifacts | retries |      tablet      | tablet_failure | progress |              migration_context              | ddl_action | message | eta_seconds | rows_copied | table_rows | added_unique_keys | removed_unique_keys | log_file | retain_artifacts_seconds | postpone_completion | removed_unique_key_names | dropped_no_default_column_names | expanded_column_names | revertible_notes | allow_concurrent | reverted_uuid | is_view | ready_to_complete | stowaway_table | vitess_liveness_indicator | user_throttle_ratio | special_plan | last_throttled_timestamp | component_throttled | cancelled_timestamp | postpone_launch | stage | cutover_attempts | is_immediate_operation | reviewed_timestamp  |
+----+--------------------------------------+----------+-------+--------------+-------------+--------------------------------+----------+-------------------+---------------------+---------------------+-----------------+-------------------+--------------------+---------------------+-------------------+------------------+----------+-----------+---------+------------------+----------------+----------+---------------------------------------------+------------+---------+-------------+-------------+------------+-------------------+---------------------+----------+--------------------------+---------------------+--------------------------+---------------------------------+-----------------------+------------------+------------------+---------------+---------+-------------------+----------------+---------------------------+---------------------+--------------+--------------------------+---------------------+---------------------+-----------------+-------+------------------+------------------------+---------------------+
|  4 | 606fd7f4_584d_11ee_8f26_5ea977d56bb7 | mysql    |     0 | mysql        | t1_test     | alter table mysql.t1_test      | mysql    | --postpone-launch | 2023-09-21 15:06:24 | 2023-09-21 15:06:25 |                 |                   |                    |                     |                   | queued           |          |           |       0 | zone1-0000008460 |              0 |        0 | vtgate:606fc444-584d-11ee-8f26-5ea977d56bb7 | alter      |         |          -1 |           0 |          0 |                 0 |                   0 |          |                    86400 |                   0 |                          |                                 |                       |                  |                0 |               |       0 |                 0 |                |                         0 |                   0 |              |                          |                     |                     |               1 |       |                0 |                      0 | 2023-09-21 15:06:26 |
|    |                                      |          |       |              |             | ENGINE InnoDB                  |          |                   |                     |                     |                 |                   |                    |                     |                   |                  |          |           |         |                  |                |          |                                             |            |         |             |             |            |                   |                     |          |                          |                     |                          |                                 |                       |                  |                  |               |         |                   |                |                           |                     |              |                          |                     |                     |                 |       |                  |                        |                     |
+----+--------------------------------------+----------+-------+--------------+-------------+--------------------------------+----------+-------------------+---------------------+---------------------+-----------------+-------------------+--------------------+---------------------+-------------------+------------------+----------+-----------+---------+------------------+----------------+----------+---------------------------------------------+------------+---------+-------------+-------------+------------+-------------------+---------------------+----------+--------------------------+---------------------+--------------------------+---------------------------------+-----------------------+------------------+------------------+---------------+---------+-------------------+----------------+---------------------------+---------------------+--------------+--------------------------+---------------------+---------------------+-----------------+-------+------------------+------------------------+---------------------+
=== RUN   TestSchemaChange/scheduler/ALTER_both_tables_non-concurrent
# Generated UUID (for debug purposes):
<62d79950_584d_11ee_8f26_5ea977d56bb7>
# Generated UUID (for debug purposes):
<62d85994_584d_11ee_8f26_5ea977d56bb7>
=== RUN   TestSchemaChange/scheduler/ALTER_both_tables_non-concurrent/wait_for_t1_complete
# Migration status (for debug purposes): <complete>
=== RUN   TestSchemaChange/scheduler/ALTER_both_tables_non-concurrent/wait_for_t1_complete#01
# Migration status (for debug purposes): <complete>
=== RUN   TestSchemaChange/scheduler/ALTER_both_tables_non-concurrent/check_both_complete
# output for `show vitess_migrations like '62d79950_584d_11ee_8f26_5ea977d56bb7'`:
+----+--------------------------------------+----------+-------+--------------+-------------+--------------------------------+----------+---------+---------------------+---------------------+-----------------+---------------------+---------------------+----------------------------+-------------------+------------------+----------+-----------+---------+------------------+----------------+----------+---------------------------------------------+------------+---------+-------------+-------------+------------+-------------------+---------------------+----------+--------------------------+---------------------+--------------------------+---------------------------------+-----------------------+------------------+------------------+---------------+---------+-------------------+----------------+---------------------------+---------------------+--------------+--------------------------+---------------------+---------------------+-----------------+-------+------------------+------------------------+---------------------+
| id |            migration_uuid            | keyspace | shard | mysql_schema | mysql_table |      migration_statement       | strategy | options |   added_timestamp   | requested_timestamp | ready_timestamp |  started_timestamp  | liveness_timestamp  |    completed_timestamp     | cleanup_timestamp | migration_status | log_path | artifacts | retries |      tablet      | tablet_failure | progress |              migration_context              | ddl_action | message | eta_seconds | rows_copied | table_rows | added_unique_keys | removed_unique_keys | log_file | retain_artifacts_seconds | postpone_completion | removed_unique_key_names | dropped_no_default_column_names | expanded_column_names | revertible_notes | allow_concurrent | reverted_uuid | is_view | ready_to_complete | stowaway_table | vitess_liveness_indicator | user_throttle_ratio | special_plan | last_throttled_timestamp | component_throttled | cancelled_timestamp | postpone_launch | stage | cutover_attempts | is_immediate_operation | reviewed_timestamp  |
+----+--------------------------------------+----------+-------+--------------+-------------+--------------------------------+----------+---------+---------------------+---------------------+-----------------+---------------------+---------------------+----------------------------+-------------------+------------------+----------+-----------+---------+------------------+----------------+----------+---------------------------------------------+------------+---------+-------------+-------------+------------+-------------------+---------------------+----------+--------------------------+---------------------+--------------------------+---------------------------------+-----------------------+------------------+------------------+---------------+---------+-------------------+----------------+---------------------------+---------------------+--------------+--------------------------+---------------------+---------------------+-----------------+-------+------------------+------------------------+---------------------+
|  5 | 62d79950_584d_11ee_8f26_5ea977d56bb7 | mysql    |     0 | mysql        | t1_test     | alter table mysql.t1_test      | mysql    |         | 2023-09-21 15:06:28 | 2023-09-21 15:06:29 |                 | 2023-09-21 15:06:30 | 2023-09-21 15:06:30 | 2023-09-21 15:06:29.809973 |                   | complete         |          |           |       0 | zone1-0000008460 |              0 |      100 | vtgate:62d7842e-584d-11ee-8f26-5ea977d56bb7 | alter      |         |           0 |           0 |          0 |                 0 |                   0 |          |                    86400 |                   0 |                          |                                 |                       |                  |                0 |               |       0 |                 0 |                |                         0 |                   0 |              |                          |                     |                     |               0 |       |                0 |                      0 | 2023-09-21 15:06:30 |
|    |                                      |          |       |              |             | ENGINE InnoDB                  |          |         |                     |                     |                 |                     |                     |                            |                   |                  |          |           |         |                  |                |          |                                             |            |         |             |             |            |                   |                     |          |                          |                     |                          |                                 |                       |                  |                  |               |         |                   |                |                           |                     |              |                          |                     |                     |                 |       |                  |                        |                     |
+----+--------------------------------------+----------+-------+--------------+-------------+--------------------------------+----------+---------+---------------------+---------------------+-----------------+---------------------+---------------------+----------------------------+-------------------+------------------+----------+-----------+---------+------------------+----------------+----------+---------------------------------------------+------------+---------+-------------+-------------+------------+-------------------+---------------------+----------+--------------------------+---------------------+--------------------------+---------------------------------+-----------------------+------------------+------------------+---------------+---------+-------------------+----------------+---------------------------+---------------------+--------------+--------------------------+---------------------+---------------------+-----------------+-------+------------------+------------------------+---------------------+
# output for `show vitess_migrations like '62d85994_584d_11ee_8f26_5ea977d56bb7'`:
+----+--------------------------------------+----------+-------+--------------+-------------+--------------------------------+----------+---------+---------------------+---------------------+-----------------+---------------------+---------------------+----------------------------+-------------------+------------------+----------+-----------+---------+------------------+----------------+----------+---------------------------------------------+------------+---------+-------------+-------------+------------+-------------------+---------------------+----------+--------------------------+---------------------+--------------------------+---------------------------------+-----------------------+------------------+------------------+---------------+---------+-------------------+----------------+---------------------------+---------------------+--------------+--------------------------+---------------------+---------------------+-----------------+-------+------------------+------------------------+---------------------+
| id |            migration_uuid            | keyspace | shard | mysql_schema | mysql_table |      migration_statement       | strategy | options |   added_timestamp   | requested_timestamp | ready_timestamp |  started_timestamp  | liveness_timestamp  |    completed_timestamp     | cleanup_timestamp | migration_status | log_path | artifacts | retries |      tablet      | tablet_failure | progress |              migration_context              | ddl_action | message | eta_seconds | rows_copied | table_rows | added_unique_keys | removed_unique_keys | log_file | retain_artifacts_seconds | postpone_completion | removed_unique_key_names | dropped_no_default_column_names | expanded_column_names | revertible_notes | allow_concurrent | reverted_uuid | is_view | ready_to_complete | stowaway_table | vitess_liveness_indicator | user_throttle_ratio | special_plan | last_throttled_timestamp | component_throttled | cancelled_timestamp | postpone_launch | stage | cutover_attempts | is_immediate_operation | reviewed_timestamp  |
+----+--------------------------------------+----------+-------+--------------+-------------+--------------------------------+----------+---------+---------------------+---------------------+-----------------+---------------------+---------------------+----------------------------+-------------------+------------------+----------+-----------+---------+------------------+----------------+----------+---------------------------------------------+------------+---------+-------------+-------------+------------+-------------------+---------------------+----------+--------------------------+---------------------+--------------------------+---------------------------------+-----------------------+------------------+------------------+---------------+---------+-------------------+----------------+---------------------------+---------------------+--------------+--------------------------+---------------------+---------------------+-----------------+-------+------------------+------------------------+---------------------+
|  6 | 62d85994_584d_11ee_8f26_5ea977d56bb7 | mysql    |     0 | mysql        | t2_test     | alter table mysql.t2_test      | mysql    |         | 2023-09-21 15:06:28 | 2023-09-21 15:06:29 |                 | 2023-09-21 15:06:31 | 2023-09-21 15:06:31 | 2023-09-21 15:06:30.830861 |                   | complete         |          |           |       0 | zone1-0000008460 |              0 |      100 | vtgate:62d846a2-584d-11ee-8f26-5ea977d56bb7 | alter      |         |           0 |           0 |          0 |                 0 |                   0 |          |                    86400 |                   0 |                          |                                 |                       |                  |                0 |               |       0 |                 0 |                |                         0 |                   0 |              |                          |                     |                     |               0 |       |                0 |                      0 | 2023-09-21 15:06:30 |
|    |                                      |          |       |              |             | ENGINE InnoDB                  |          |         |                     |                     |                 |                     |                     |                            |                   |                  |          |           |         |                  |                |          |                                             |            |         |             |             |            |                   |                     |          |                          |                     |                          |                                 |                       |                  |                  |               |         |                   |                |                           |                     |              |                          |                     |                     |                 |       |                  |                        |                     |
+----+--------------------------------------+----------+-------+--------------+-------------+--------------------------------+----------+---------+---------------------+---------------------+-----------------+---------------------+---------------------+----------------------------+-------------------+------------------+----------+-----------+---------+------------------+----------------+----------+---------------------------------------------+------------+---------+-------------+-------------+------------+-------------------+---------------------+----------+--------------------------+---------------------+--------------------------+---------------------------------+-----------------------+------------------+------------------+---------------+---------+-------------------+----------------+---------------------------+---------------------+--------------+--------------------------+---------------------+---------------------+-----------------+-------+------------------+------------------------+---------------------+
=== RUN   TestSchemaChange/scheduler/ALTER_both_tables_non-concurrent/Compare_t1,_t2_sequential_times
=== RUN   TestSchemaChange/scheduler/mysql_strategy
=== RUN   TestSchemaChange/scheduler/mysql_strategy/declarative
# Generated UUID (for debug purposes):
<640ec23a_584d_11ee_8f26_5ea977d56bb7>
# Migration status (for debug purposes): <complete>
# Migration status (for debug purposes): <complete>
# output for `show vitess_migrations like '640ec23a_584d_11ee_8f26_5ea977d56bb7'`:
+----+--------------------------------------+----------+-------+--------------+-------------+--------------------------------+----------+---------------+---------------------+---------------------+-----------------+---------------------+---------------------+----------------------------+-------------------+------------------+----------+-----------+---------+------------------+----------------+----------+---------------------------------------------+------------+-----------+-------------+-------------+------------+-------------------+---------------------+----------+--------------------------+---------------------+--------------------------+---------------------------------+-----------------------+------------------+------------------+---------------+---------+-------------------+----------------+---------------------------+---------------------+--------------+--------------------------+---------------------+---------------------+-----------------+-------+------------------+------------------------+---------------------+
| id |            migration_uuid            | keyspace | shard | mysql_schema | mysql_table |      migration_statement       | strategy |    options    |   added_timestamp   | requested_timestamp | ready_timestamp |  started_timestamp  | liveness_timestamp  |    completed_timestamp     | cleanup_timestamp | migration_status | log_path | artifacts | retries |      tablet      | tablet_failure | progress |              migration_context              | ddl_action |  message  | eta_seconds | rows_copied | table_rows | added_unique_keys | removed_unique_keys | log_file | retain_artifacts_seconds | postpone_completion | removed_unique_key_names | dropped_no_default_column_names | expanded_column_names | revertible_notes | allow_concurrent | reverted_uuid | is_view | ready_to_complete | stowaway_table | vitess_liveness_indicator | user_throttle_ratio | special_plan | last_throttled_timestamp | component_throttled | cancelled_timestamp | postpone_launch | stage | cutover_attempts | is_immediate_operation | reviewed_timestamp  |
+----+--------------------------------------+----------+-------+--------------+-------------+--------------------------------+----------+---------------+---------------------+---------------------+-----------------+---------------------+---------------------+----------------------------+-------------------+------------------+----------+-----------+---------+------------------+----------------+----------+---------------------------------------------+------------+-----------+-------------+-------------+------------+-------------------+---------------------+----------+--------------------------+---------------------+--------------------------+---------------------------------+-----------------------+------------------+------------------+---------------+---------+-------------------+----------------+---------------------------+---------------------+--------------+--------------------------+---------------------+---------------------+-----------------+-------+------------------+------------------------+---------------------+
|  7 | 640ec23a_584d_11ee_8f26_5ea977d56bb7 | mysql    |     0 | mysql        | t1_test     | create table mysql.t1_test     | mysql    | --declarative | 2023-09-21 15:06:30 | 2023-09-21 15:06:31 |                 | 2023-09-21 15:06:32 | 2023-09-21 15:06:32 | 2023-09-21 15:06:31.853917 |                   | complete         |          |           |       0 | zone1-0000008460 |              0 |      100 | vtgate:640eb5ba-584d-11ee-8f26-5ea977d56bb7 | create     | no change |           0 |           0 |          0 |                 0 |                   0 |          |                    86400 |                   0 |                          |                                 |                       |                  |                0 |               |       0 |                 1 |                |                         0 |                   0 |              |                          |                     |                     |               0 |       |                0 |                      1 | 2023-09-21 15:06:32 |
|    |                                      |          |       |              |             | ( 	id bigint(20) not null,      |          |               |                     |                     |                 |                     |                     |                            |                   |                  |          |           |         |                  |                |          |                                             |            |           |             |             |            |                   |                     |          |                          |                     |                          |                                 |                       |                  |                  |               |         |                   |                |                           |                     |              |                          |                     |                     |                 |       |                  |                        |                     |
|    |                                      |          |       |              |             | 	hint_col varchar(64) not       |          |               |                     |                     |                 |                     |                     |                            |                   |                  |          |           |         |                  |                |          |                                             |            |           |             |             |            |                   |                     |          |                          |                     |                          |                                 |                       |                  |                  |               |         |                   |                |                           |                     |              |                          |                     |                     |                 |       |                  |                        |                     |
|    |                                      |          |       |              |             | null default 'just-created',   |          |               |                     |                     |                 |                     |                     |                            |                   |                  |          |           |         |                  |                |          |                                             |            |           |             |             |            |                   |                     |          |                          |                     |                          |                                 |                       |                  |                  |               |         |                   |                |                           |                     |              |                          |                     |                     |                 |       |                  |                        |                     |
|    |                                      |          |       |              |             | 	PRIMARY KEY (id) ) ENGINE      |          |               |                     |                     |                 |                     |                     |                            |                   |                  |          |           |         |                  |                |          |                                             |            |           |             |             |            |                   |                     |          |                          |                     |                          |                                 |                       |                  |                  |               |         |                   |                |                           |                     |              |                          |                     |                     |                 |       |                  |                        |                     |
|    |                                      |          |       |              |             | InnoDB                         |          |               |                     |                     |                 |                     |                     |                            |                   |                  |          |           |         |                  |                |          |                                             |            |           |             |             |            |                   |                     |          |                          |                     |                          |                                 |                       |                  |                  |               |         |                   |                |                           |                     |              |                          |                     |                     |                 |       |                  |                        |                     |
+----+--------------------------------------+----------+-------+--------------+-------------+--------------------------------+----------+---------------+---------------------+---------------------+-----------------+---------------------+---------------------+----------------------------+-------------------+------------------+----------+-----------+---------+------------------+----------------+----------+---------------------------------------------+------------+-----------+-------------+-------------+------------+-------------------+---------------------+----------+--------------------------+---------------------+--------------------------+---------------------------------+-----------------------+------------------+------------------+---------------+---------+-------------------+----------------+---------------------------+---------------------+--------------+--------------------------+---------------------+---------------------+-----------------+-------+------------------+------------------------+---------------------+
=== RUN   TestSchemaChange/scheduler/mysql_strategy/fail_postpone-completion
# Generated UUID (for debug purposes):
<64aa5c4a_584d_11ee_8f26_5ea977d56bb7>
# output for `show vitess_migrations like '64aa5c4a_584d_11ee_8f26_5ea977d56bb7'`:
+----+--------------------------------------+----------+-------+--------------+-------------+--------------------------------+----------+-----------------------+---------------------+---------------------+-----------------+-------------------+--------------------+----------------------------+-------------------+------------------+----------+-----------+---------+------------------+----------------+----------+---------------------------------------------+------------+--------------------------------+-------------+-------------+------------+-------------------+---------------------+----------+--------------------------+---------------------+--------------------------+---------------------------------+-----------------------+------------------+------------------+---------------+---------+-------------------+----------------+---------------------------+---------------------+--------------+--------------------------+---------------------+---------------------+-----------------+-------+------------------+------------------------+---------------------+
| id |            migration_uuid            | keyspace | shard | mysql_schema | mysql_table |      migration_statement       | strategy |        options        |   added_timestamp   | requested_timestamp | ready_timestamp | started_timestamp | liveness_timestamp |    completed_timestamp     | cleanup_timestamp | migration_status | log_path | artifacts | retries |      tablet      | tablet_failure | progress |              migration_context              | ddl_action |            message             | eta_seconds | rows_copied | table_rows | added_unique_keys | removed_unique_keys | log_file | retain_artifacts_seconds | postpone_completion | removed_unique_key_names | dropped_no_default_column_names | expanded_column_names | revertible_notes | allow_concurrent | reverted_uuid | is_view | ready_to_complete | stowaway_table | vitess_liveness_indicator | user_throttle_ratio | special_plan | last_throttled_timestamp | component_throttled | cancelled_timestamp | postpone_launch | stage | cutover_attempts | is_immediate_operation | reviewed_timestamp  |
+----+--------------------------------------+----------+-------+--------------+-------------+--------------------------------+----------+-----------------------+---------------------+---------------------+-----------------+-------------------+--------------------+----------------------------+-------------------+------------------+----------+-----------+---------+------------------+----------------+----------+---------------------------------------------+------------+--------------------------------+-------------+-------------+------------+-------------------+---------------------+----------+--------------------------+---------------------+--------------------------+---------------------------------+-----------------------+------------------+------------------+---------------+---------+-------------------+----------------+---------------------------+---------------------+--------------+--------------------------+---------------------+---------------------+-----------------+-------+------------------+------------------------+---------------------+
|  8 | 64aa5c4a_584d_11ee_8f26_5ea977d56bb7 | mysql    |     0 | mysql        | t1_test     | alter table mysql.t1_test      | mysql    | --postpone-completion | 2023-09-21 15:06:31 | 2023-09-21 15:06:32 |                 |                   |                    | 2023-09-21 15:06:32.865164 |                   | failed           |          |           |       0 | zone1-0000008460 |              0 |        0 | vtgate:64aa4bb0-584d-11ee-8f26-5ea977d56bb7 | alter      | --postpone-completion not      |          -1 |           0 |          0 |                 0 |                   0 |          |                    86400 |                   1 |                          |                                 |                       |                  |                0 |               |       0 |                 0 |                |                         0 |                   0 |              |                          |                     |                     |               0 |       |                0 |                      0 | 2023-09-21 15:06:33 |
|    |                                      |          |       |              |             | ENGINE InnoDB                  |          |                       |                     |                     |                 |                   |                    |                            |                   |                  |          |           |         |                  |                |          |                                             |            | supported in 'mysql' strategy  |             |             |            |                   |                     |          |                          |                     |                          |                                 |                       |                  |                  |               |         |                   |                |                           |                     |              |                          |                     |                     |                 |       |                  |                        |                     |
+----+--------------------------------------+----------+-------+--------------+-------------+--------------------------------+----------+-----------------------+---------------------+---------------------+-----------------+-------------------+--------------------+----------------------------+-------------------+------------------+----------+-----------+---------+------------------+----------------+----------+---------------------------------------------+------------+--------------------------------+-------------+-------------+------------+-------------------+---------------------+----------+--------------------------+---------------------+--------------------------+---------------------------------+-----------------------+------------------+------------------+---------------+---------+-------------------+----------------+---------------------------+---------------------+--------------+--------------------------+---------------------+---------------------+-----------------+-------+------------------+------------------------+---------------------+
=== RUN   TestSchemaChange/scheduler/mysql_strategy/trivial
# Generated UUID (for debug purposes):
<67a7b7e4_584d_11ee_8f26_5ea977d56bb7>
# Migration status (for debug purposes): <complete>
# output for `show vitess_migrations like '67a7b7e4_584d_11ee_8f26_5ea977d56bb7'`:
+----+--------------------------------------+----------+-------+--------------+-------------+--------------------------------+----------+---------+---------------------+---------------------+-----------------+---------------------+---------------------+----------------------------+-------------------+------------------+----------+-----------+---------+------------------+----------------+----------+---------------------------------------------+------------+---------+-------------+-------------+------------+-------------------+---------------------+----------+--------------------------+---------------------+--------------------------+---------------------------------+-----------------------+------------------+------------------+---------------+---------+-------------------+----------------+---------------------------+---------------------+--------------+--------------------------+---------------------+---------------------+-----------------+-------+------------------+------------------------+---------------------+
| id |            migration_uuid            | keyspace | shard | mysql_schema | mysql_table |      migration_statement       | strategy | options |   added_timestamp   | requested_timestamp | ready_timestamp |  started_timestamp  | liveness_timestamp  |    completed_timestamp     | cleanup_timestamp | migration_status | log_path | artifacts | retries |      tablet      | tablet_failure | progress |              migration_context              | ddl_action | message | eta_seconds | rows_copied | table_rows | added_unique_keys | removed_unique_keys | log_file | retain_artifacts_seconds | postpone_completion | removed_unique_key_names | dropped_no_default_column_names | expanded_column_names | revertible_notes | allow_concurrent | reverted_uuid | is_view | ready_to_complete | stowaway_table | vitess_liveness_indicator | user_throttle_ratio | special_plan | last_throttled_timestamp | component_throttled | cancelled_timestamp | postpone_launch | stage | cutover_attempts | is_immediate_operation | reviewed_timestamp  |
+----+--------------------------------------+----------+-------+--------------+-------------+--------------------------------+----------+---------+---------------------+---------------------+-----------------+---------------------+---------------------+----------------------------+-------------------+------------------+----------+-----------+---------+------------------+----------------+----------+---------------------------------------------+------------+---------+-------------+-------------+------------+-------------------+---------------------+----------+--------------------------+---------------------+--------------------------+---------------------------------+-----------------------+------------------+------------------+---------------+---------+-------------------+----------------+---------------------------+---------------------+--------------+--------------------------+---------------------+---------------------+-----------------+-------+------------------+------------------------+---------------------+
|  9 | 67a7b7e4_584d_11ee_8f26_5ea977d56bb7 | mysql    |     0 | mysql        | t1_test     | alter table mysql.t1_test      | mysql    |         | 2023-09-21 15:06:36 | 2023-09-21 15:06:37 |                 | 2023-09-21 15:06:38 | 2023-09-21 15:06:38 | 2023-09-21 15:06:37.883333 |                   | complete         |          |           |       0 | zone1-0000008460 |              0 |      100 | vtgate:67a79b9c-584d-11ee-8f26-5ea977d56bb7 | alter      |         |           0 |           0 |          0 |                 0 |                   0 |          |                    86400 |                   0 |                          |                                 |                       |                  |                0 |               |       0 |                 0 |                |                         0 |                   0 |              |                          |                     |                     |               0 |       |                0 |                      0 | 2023-09-21 15:06:38 |
|    |                                      |          |       |              |             | ENGINE InnoDB                  |          |         |                     |                     |                 |                     |                     |                            |                   |                  |          |           |         |                  |                |          |                                             |            |         |             |             |            |                   |                     |          |                          |                     |                          |                                 |                       |                  |                  |               |         |                   |                |                           |                     |              |                          |                     |                     |                 |       |                  |                        |                     |
+----+--------------------------------------+----------+-------+--------------+-------------+--------------------------------+----------+---------+---------------------+---------------------+-----------------+---------------------+---------------------+----------------------------+-------------------+------------------+----------+-----------+---------+------------------+----------------+----------+---------------------------------------------+------------+---------+-------------+-------------+------------+-------------------+---------------------+----------+--------------------------+---------------------+--------------------------+---------------------------------+-----------------------+------------------+------------------+---------------+---------+-------------------+----------------+---------------------------+---------------------+--------------+--------------------------+---------------------+---------------------+-----------------+-------+------------------+------------------------+---------------------+
=== RUN   TestSchemaChange/scheduler/mysql_strategy/instant
# Generated UUID (for debug purposes):
<684320a8_584d_11ee_8f26_5ea977d56bb7>
# Migration status (for debug purposes): <complete>
# output for `show vitess_migrations like '684320a8_584d_11ee_8f26_5ea977d56bb7'`:
+----+--------------------------------------+----------+-------+--------------+-------------+--------------------------------+----------+---------+---------------------+---------------------+-----------------+---------------------+---------------------+----------------------------+-------------------+------------------+----------+-----------+---------+------------------+----------------+----------+---------------------------------------------+------------+---------+-------------+-------------+------------+-------------------+---------------------+----------+--------------------------+---------------------+--------------------------+---------------------------------+-----------------------+------------------+------------------+---------------+---------+-------------------+----------------+---------------------------+---------------------+--------------+--------------------------+---------------------+---------------------+-----------------+-------+------------------+------------------------+---------------------+
| id |            migration_uuid            | keyspace | shard | mysql_schema | mysql_table |      migration_statement       | strategy | options |   added_timestamp   | requested_timestamp | ready_timestamp |  started_timestamp  | liveness_timestamp  |    completed_timestamp     | cleanup_timestamp | migration_status | log_path | artifacts | retries |      tablet      | tablet_failure | progress |              migration_context              | ddl_action | message | eta_seconds | rows_copied | table_rows | added_unique_keys | removed_unique_keys | log_file | retain_artifacts_seconds | postpone_completion | removed_unique_key_names | dropped_no_default_column_names | expanded_column_names | revertible_notes | allow_concurrent | reverted_uuid | is_view | ready_to_complete | stowaway_table | vitess_liveness_indicator | user_throttle_ratio | special_plan | last_throttled_timestamp | component_throttled | cancelled_timestamp | postpone_launch | stage | cutover_attempts | is_immediate_operation | reviewed_timestamp  |
+----+--------------------------------------+----------+-------+--------------+-------------+--------------------------------+----------+---------+---------------------+---------------------+-----------------+---------------------+---------------------+----------------------------+-------------------+------------------+----------+-----------+---------+------------------+----------------+----------+---------------------------------------------+------------+---------+-------------+-------------+------------+-------------------+---------------------+----------+--------------------------+---------------------+--------------------------+---------------------------------+-----------------------+------------------+------------------+---------------+---------+-------------------+----------------+---------------------------+---------------------+--------------+--------------------------+---------------------+---------------------+-----------------+-------+------------------+------------------------+---------------------+
| 10 | 684320a8_584d_11ee_8f26_5ea977d56bb7 | mysql    |     0 | mysql        | t1_test     | alter table mysql.t1_test add  | mysql    |         | 2023-09-21 15:06:38 | 2023-09-21 15:06:38 |                 | 2023-09-21 15:06:39 | 2023-09-21 15:06:39 | 2023-09-21 15:06:38.905961 |                   | complete         |          |           |       0 | zone1-0000008460 |              0 |      100 | vtgate:68431090-584d-11ee-8f26-5ea977d56bb7 | alter      |         |           0 |           0 |          0 |                 0 |                   0 |          |                    86400 |                   0 |                          |                                 |                       |                  |                0 |               |       0 |                 0 |                |                         0 |                   0 |              |                          |                     |                     |               0 |       |                0 |                      0 | 2023-09-21 15:06:39 |
|    |                                      |          |       |              |             | column i0 INT not null default |          |         |                     |                     |                 |                     |                     |                            |                   |                  |          |           |         |                  |                |          |                                             |            |         |             |             |            |                   |                     |          |                          |                     |                          |                                 |                       |                  |                  |               |         |                   |                |                           |                     |              |                          |                     |                     |                 |       |                  |                        |                     |
|    |                                      |          |       |              |             |                              0 |          |         |                     |                     |                 |                     |                     |                            |                   |                  |          |           |         |                  |                |          |                                             |            |         |             |             |            |                   |                     |          |                          |                     |                          |                                 |                       |                  |                  |               |         |                   |                |                           |                     |              |                          |                     |                     |                 |       |                  |                        |                     |
+----+--------------------------------------+----------+-------+--------------+-------------+--------------------------------+----------+---------+---------------------+---------------------+-----------------+---------------------+---------------------+----------------------------+-------------------+------------------+----------+-----------+---------+------------------+----------------+----------+---------------------------------------------+------------+---------+-------------+-------------+------------+-------------------+---------------------+----------+--------------------------+---------------------+--------------------------+---------------------------------+-----------------------+------------------+------------------+---------------+---------+-------------------+----------------+---------------------------+---------------------+--------------+--------------------------+---------------------+---------------------+-----------------+-------+------------------+------------------------+---------------------+
--- PASS: TestSchemaChange (20.25s)
    --- PASS: TestSchemaChange/scheduler (20.25s)
        --- PASS: TestSchemaChange/scheduler/CREATE_TABLEs_t1,_t1 (3.06s)
            --- PASS: TestSchemaChange/scheduler/CREATE_TABLEs_t1,_t1/Compare_t1,_t2_sequential_times (0.00s)
        --- PASS: TestSchemaChange/scheduler/Postpone_launch_CREATE (3.04s)
            --- PASS: TestSchemaChange/scheduler/Postpone_launch_CREATE/launch_all_shards (1.02s)
        --- PASS: TestSchemaChange/scheduler/Postpone_launch_ALTER (4.03s)
            --- PASS: TestSchemaChange/scheduler/Postpone_launch_ALTER/launch_irrelevant_UUID (2.02s)
        --- PASS: TestSchemaChange/scheduler/ALTER_both_tables_non-concurrent (2.04s)
            --- PASS: TestSchemaChange/scheduler/ALTER_both_tables_non-concurrent/wait_for_t1_complete (1.01s)
            --- PASS: TestSchemaChange/scheduler/ALTER_both_tables_non-concurrent/wait_for_t1_complete#01 (1.01s)
            --- PASS: TestSchemaChange/scheduler/ALTER_both_tables_non-concurrent/check_both_complete (0.01s)
            --- PASS: TestSchemaChange/scheduler/ALTER_both_tables_non-concurrent/Compare_t1,_t2_sequential_times (0.00s)
        --- PASS: TestSchemaChange/scheduler/mysql_strategy (8.07s)
            --- PASS: TestSchemaChange/scheduler/mysql_strategy/declarative (1.02s)
            --- PASS: TestSchemaChange/scheduler/mysql_strategy/fail_postpone-completion (5.02s)
            --- PASS: TestSchemaChange/scheduler/mysql_strategy/trivial (1.02s)
            --- PASS: TestSchemaChange/scheduler/mysql_strategy/instant (1.02s)
PASS
ok  	vitess.io/vitess/go/test/endtoend/onlineddl/scheduler	61.666s
